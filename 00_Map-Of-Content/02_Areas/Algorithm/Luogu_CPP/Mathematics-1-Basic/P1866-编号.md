---
tags:
  - Knowledge/Algorithm
  - Knowledge/Algorithms/Math
created: 2025-09-08
author:
  - ln1
status: Done
---
## Description
给 N 只兔子，每只兔子 i 可选编号 1~M_i，编号互不相同，求方案数对 10^9+7 取模，无法满足则输出 0。
### Example:  
Input: 
```
2
5 8
```

Output: 
```
35
```
## Question Link

[P1866 编号 - 洛谷](https://www.luogu.com.cn/problem/P1866)
## Approach

- 关键问题是编号互不相同，那么编号小的一定会占用编号大的号码，那么我们可以先将数据排序，然后从小到大依次相乘，序号每+1，则乘数-1。
- 接着考虑这个所谓的不可能的情况，那么什么时候是不可能的呢，前面有i-1只兔子选过了，那么如果第i只兔子可选的编号小于i，那么就没办法选了，所以这是不可能的情况。
## Implementation

```cpp
#include <algorithm>
#include <iostream>
using namespace std;

int n;
int m[51];
const long long MOD = 1e9 + 7;
int main() {

  ios::sync_with_stdio(false);
  cin.tie(nullptr);

  cin >> n;

  for (int i = 0; i < n; i++) {
    cin >> m[i];
  }

  sort(m, m + n);

  long long res = 1;

  for (int i = 0; i < n; i++) {
    int options = m[i] - i;
    if (options <= 0) {
      cout << 0 << endl;
      return 0;
    }
    res = (1LL * res * (m[i] - i)) % MOD;
  }

  cout << res << endl;

  return 0;
}

```

## Analysis
这题比较简单，主要是分析清楚这个所谓的不可能的情况就可以了。算是假期回来恢复手感。