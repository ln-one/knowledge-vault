---
tags:
- Knowledge/SoftwareTesting
created: 2025-11-03
author:
- ln1
status: Done
---

# 04-静态测试方法

## 概述

静态测试方法是在不执行软件的条件下，通过检查和审查软件设计、体系结构和代码来发现软件缺陷的过程。静态测试包括**静态黑盒测试**（测试产品说明书）和**静态白盒测试**（检查设计和代码）两大类。

## 静态黑盒测试

### 基本概念
- **定义**：在黑盒测试中，软件测试员无法看到盒子里的软件是如何运行的，只是检查和审核不运行的部分
- **别名**：功能性测试(functional testing)或行为测试(behavioral testing)
- **核心**：测试产品说明书，确保最终产品符合客户要求

### 测试产品说明书的方法

#### 1. 高级审查
- **假装自己是客户**：从客户角度审查产品说明书
- **研究现有标准和规范**：
  - 公司惯用语和约定
  - 行业要求
  - 政府标准
  - 图形用户界面（GUI）标准
  - 安全标准
- **审查和测试类似软件**：了解规模、复杂性、测试性、质量和可靠性、安全性

#### 2. 低层次测试技术

**产品说明书属性检查清单**：
- 完整性
- 准确性
- 精确、不含糊、清晰
- 一致性
- 贴切性
- 合理性
- 代码无关性
- 可测试性

**产品说明书用语检查**：
- **绝对词汇**："总是、每一种、所有、没有、从不" - 需要确认是否真实
- **假定词汇**："当然、因此、明显、显然、必然" - 避免假定情况
- **模糊词汇**："某些、有时、常常、通常、惯常、经常、大多、几乎" - 需要明确定义
- **不完整列表**："等等、诸如此类、依此类推、例如" - 需要完整列表
- **无法量化术语**："良好、迅速、豪价、高效、小、稳定" - 需要准确定义
- **隐蔽功能**："处理、进行、拒绝、跳过、排除" - 需要详细说明
- **不完整条件**："如果……那么……（没有否则）" - 需要考虑否则情况

## 静态白盒测试

### 基本概念
- **定义**：在不执行软件的条件下有条理地仔细审查软件设计、体系结构和代码，从而找出软件缺陷的过程
- **别名**：结构化分析
- **优势**：可以早期发现软件缺陷，减少成本

### 正式审查(Formal Review)

#### 审查类型

**1. 同事审查（伙伴审查）**
- 特点："如果你给我看你的，我也给你看我的"
- 适用：日常代码互查

**2. 走查(Walkthrough)**
- 特点：编写代码的程序员向5人小组或其他程序员和测试员组成的小组做正式陈述
- 流程：程序员主导，解释代码逻辑

**3. 检验(Inspection)**
- 特点：最正式的审查类型，具有高度组织化
- 关键：表述者(presenter)或宣读者(reader)不是原来的程序员
- 流程：第三方主导审查过程

#### 审查原则
- **确定问题**：全部的批评应该直指代码或设计，而不是其设计实现者
- **遵守规则**：按照既定流程进行
- **准备充分**：提前熟悉代码和相关文档
- **编写报告**：详细记录发现的问题

#### 审查收益
- **交流**：促进团队沟通
- **质量**：提高代码质量
- **小组同志化**：增强团队协作
- **解决方案**：集思广益解决问题

### 编码标准和规范

#### 标准目标
- **可靠性**：确保代码稳定运行
- **可读性/维护性**：便于理解和修改
- **移植性**：支持跨平台运行

#### 编程标准示例
- **标题**：清晰的文件和函数命名
- **标准(规范)**：遵循团队约定的编码规范
- **解释说明**：充分的注释和文档
- **示例**：提供标准用法示例

#### 获取标准来源
- **ANSI**：美国国家标准协会
- **IEC**：国际电工委员会
- **ISO**：国际标准化组织
- **ACM**：美国计算机协会
- **IEEE**：电气电子工程师协会

### 通用代码审查清单

#### 1. 数据引用错误
- 变量未初始化
- 数组越界
- 指针错误

#### 2. 数据声明错误
- 类型不匹配
- 变量命名冲突
- 作用域问题

#### 3. 计算错误
- 算术运算错误
- 精度问题
- 溢出处理

#### 4. 比较错误
- 条件判断错误
- 边界条件处理
- 逻辑运算符误用

#### 5. 控制流程错误
- 循环条件错误
- 分支逻辑问题
- 异常处理不当

#### 6. 子程序参数错误
- 参数个数不匹配
- 参数类型错误
- 返回值处理

#### 7. 输入/输出错误
- 文件操作错误
- 网络通信问题
- 用户界面交互

#### 8. 其他检查
- 内存泄漏
- 资源管理
- 性能问题

### 代码静态检测工具

#### Java语言检测工具
**1. CheckStyle**
- 功能：代码风格检查工具
- 检查内容：注解、代码块、类设计、编码问题、文件头、Import语句、Javadoc注释、复杂度、混合检查、修饰符、命名约定、正则表达式、体积大小、空白字符

**2. FindBugs**
- 功能：静态分析工具，检查类或jar文件，将字节码与缺陷模式进行对比
- 检查类型：
  1. Bad practice（不良的实践）
  2. Dodgy code（可疑或危险的代码）
  3. Malicious code vulnerability（恶意的代码漏洞）
  4. Correctness（正确性问题）
  5. Performance（性能问题）
  6. Multithreaded correctness（多线程正确性）
  7. Experimental（经验性问题）
  8. Security（安全性问题）
  9. Internationalization（国际化问题）

**3. PMD**
- 功能：开源的静态代码分析工具，检查Java、JavaScript、PLSQL等语言
- 规则集：
  1. 最佳实践(Best Practices)
  2. 代码风格(Code Style)
  3. 设计(Design)
  4. 文档(Documentation)
  5. 易错倾向(Error Prone)
  6. 多线程(Multithreading)
  7. 性能(Performance)

#### Python语言检测工具
- **Pycharm**：集成开发环境内置检查
- **Pyflakes**：语法错误检查
- **PEP**：Python编码规范检查

### 代码审查方法

#### 1. 互查
- 特点：处在相同模块或相近模块的编程人员互相检查对方代码
- 优势：方法简单有效，容易开展

#### 2. 走查
- 特点：对于新人编写的程序，从头到尾将写好的程序检查一遍
- 适用：新手代码审查

#### 3. 会议评审
- 特点：正式，主要审查关键性的代码
- 流程：集体讨论，专家评审

### 代码审查标准

#### 1. 正确性
代码逻辑必须正确，能够实现预期的功能

#### 2. 清晰性
代码必须简明、易懂，注释准确没有歧义

#### 3. 规范性
代码必须符合企业或部门所定义的共同规范，包括命名规则、代码风格等

#### 4. 一致性
代码必须在命名上、风格上都保持统一

#### 5. 高效性
代码不但要满足以上性质，而且需要尽可能地降低代码的执行时间

### 代码审查范围

#### 1. 业务逻辑的审查
主要审查是否按照实现设计的规格说明书展开的编程，逻辑是否正确且简单，思路是否清晰

#### 2. 算法的效率
无论是内存处理还是统计排序算法，或者SQL查询语句，精心设计其算法，确定最优化的方法

#### 3. 代码风格
代码的命名规则、注释行、嵌套、格式等直接影响了软件的可读性、可维护性和可靠性等方面的质量

#### 4. 编程规则
包括语句的完整性、数据定义的准确性、常量和变量定义、参数调用、参数使用、内存管理、逻辑表达式等

### 性能审查要点

#### 1. 内存分配和管理
- 内存的及时释放
- 避免缓冲区溢出

#### 2. 程序性能的审查
- 算法的优化，关键的排序、分类和计算
- 减少创建对象
- 减少循环体的执行代码
- 提高处理异常出错的效率：合理使用try/catch进行异常处理
- 减少IO操作时间

## 静态测试的实施策略

### 1. 测试模式
- 先静态再动态的组合方式
- 先进行代码检查和静态结构分析，再进行覆盖测试

### 2. 引导作用
- 利用静态分析的结果作为引导
- 通过代码检查和动态测试的方式对静态分析的结果做进一步确认

### 3. 覆盖测试重点
- 覆盖测试是白盒测试的重点
- 一般可使用基本路径测试法达到语句覆盖标准
- 对于软件的重点模块，应使用多种覆盖标准衡量测试的覆盖率

### 4. 不同阶段的重点
- **单元测试阶段**：以代码检查、覆盖测试为主
- **集成测试阶段**：需要增加静态结构分析等
- **系统测试阶段**：应根据黑盒测试的结果，采用相应的白盒测试方法

## 总结

静态测试方法通过不执行代码的方式发现软件缺陷，包括：

1. **静态黑盒测试**：重点关注产品说明书的完整性、准确性和一致性
2. **静态白盒测试**：通过正式审查、编码标准检查和工具辅助分析来保证代码质量

静态测试的优势在于能够在开发早期发现问题，降低修复成本，提高软件质量。结合适当的工具和规范的流程，静态测试能够有效地提升软件开发的效率和质量。

---

**相关链接**：
- [[01-软件测试背景与概念]]
- [[02-软件开发过程]]
- [[03-软件测试实质]]
- [[05-动态测试方法]]

**标签**：#软件测试 #静态测试 #代码审查 #质量保证