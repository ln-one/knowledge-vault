
# 本章内容

##  6. 1 多面体模型和曲面模型

##  6. 2 线框模型、表面模型和实体模型

##  6. 3 实体几何造型系统的发展

##  6. 4 实体的定义与运算

##  6. 5 实体的表示方法


# 多面体模型（ 1 / 7 ）

####  发展初期常用的模型表示方法

```
许多商用动画软件，如 Alias 、 Wavefront 、 Softimage 、
Maya 、 3 DMAX 等都提供了生成多面体模型的手段
```
####  每个多边形的数据被存储在多边形数据表中

####  多边形数据表可分两组：

#### 几何数据表

#####  物体的几何数据（如顶点坐标等）

#####  用来标识多边形表面空间取向的参数（如表面外法向）

#### 属性数据表

#####  包括物体透明度、表面反射系数以及纹理特征参数


# 多面体模型（ 2 / 7 ）

####  建立 3 张表（顶点表、边表和多边形表）以层次结构

## 存储几何数据

```
多边形表 0
多边形表 1
...
```
```
边表 0
边表 1
...
```
```
V 0 , N v 0
V 1 , N v 1
V 2 , N v 2
V 3 , N v 3
...
```
```
N p 0
N p 1
...
```
```
多边形数组 边数组 顶点数组
```
```
多边形法向量数组
```
```
N v 3
```
```
N v 0
N v 1
```
```
N v 2^ V^3
```
```
V 0
V 1
```
```
V 2
```
```
N p 0
```
```
(a) 层次数据结构信息 (b)多边形信息
```
```
顶点法向在 Phong 明暗处理中用到
```
表面外法向在背面剔除中用到

####  缺点：

##### 相邻多边形的共享边在上述数据结构中没有得到显式表达，

##### 使得同一条边在绘制过程中可能被处理两次。


# 多面体模型（ 3 / 7 ）

##  基于边的表示

#### 边数组的每个元素包含 4 个指针，分别指向对应

#### 边的两个顶点和它邻接的两个多边形法向量

```
(a) 多边形信息
```
```
边数组 顶点数组 多边形法向量数组
V 0 , N v 0
V 1 , N v 1
V 2 , N v 2
V 3 , N v 3
...
```
```
1 , 2 , 2 , 0
0 , 1 , 1 , 0
3 , 0 , 1 , 0
2 , 3 , 2 , 0
3 , 1 , 2 , 1
...
```
```
NULL
N p 1
N p 2
...
```
```
V 0
```
```
N v 3
N v 0
N v 1
```
```
N v 2
```
```
V 3
```
```
V 1
```
```
V 2
```
```
N p 2 N p 1
```
_E_ (^0) _E_ 1
_E_ 3 _E_^2
_E_ 4
(b) 基于边的数据结构信息

####  优点：共享边在这种数据结构中只保存和处理一次，因此

##### 能更有效地表示物体，且数据结构更简单

```
1
2
3
4
```
```
1
2
3
4
```

# 多面体模型（ 4 / 7 ）

##  在图形绘制时，曲面通常被离散为三角形

#### 因为三角形的多边形曲面片可确保任一多边形的

#### 顶点都在一个平面上

#### 有四个或四个以上顶点的多边形，其顶点可能会

#### 不在同一平面上

#####  处理这种情况的简单方法是将多边形剖分成三角形


# 多面体模型（ 5 / 7 ）

####  当物体表面是拼接而成时，用网格函数来给定表面

#### 片更方便

####  一些图形软件标准（如 OpenGL 等）均提供了可快

#### 速生成多边形网格（ Polygon Mesh ）模型的函数

####  例如：

```
给定 n 个顶点时，可生成 n- 2 个三角形网格
给定 n 行 m 列顶点时，可生成 (n- 1 ) × (m- 1 ) 个四边形网格
```
```
由 9 个三角形和 11 个顶
点相连而成的三角形带 由顶^1 点^2 形个成四的边四形边和形^5 ×网^4 格个
```

# 多面体模型（ 6 / 7 ）

##  生成多面体模型的方法

#### 由设计者交互生成

#### 由参数曲面离散生成

#### 在实物表面测得一系列离散点，生成三角形或

#### 四边形网格

##  多面体模型的优点

#### 数据结构相对简单

#### 集合运算、明暗图的生成和显示速度快


# 多面体模型（ 7 / 7 ）

##  多面体模型的缺点

#### 虽然多面体能以任意精度逼近任意

#### 复杂的曲面物体，但毕竟是曲面物

#### 体的一种近似逼近表示，存在误差

## 曲面物体的多面体近似逼近表示过程


# 曲面模型

##  曲面造型

#### 研究在计算机内如何描述一张曲面，如何对曲面

#### 的形状进行控制与显示

#### 可由数学函数来定义

#####  包括二次曲面、超二次曲面、隐函数曲面等

#### 也可由用户输入一系列离散的数据点，来确定的

#### 参数曲面

```
 如 Bézier 曲面、 B 样条曲面、 NURBS 曲面等
```

# 本章内容

##  6. 1 多面体模型和曲面模型

##  6. 2 线框模型、表面模型和实体模型

##  6. 3 实体几何造型系统的发展

##  6. 4 实体的定义与运算

##  6. 5 实体的表示方法


##### 相邻顶点连接构成棱边表示几何形状特征

##### 形体表示成一组轮廓线的集合，只需建立三维

##### 线段表

##### 数据结构简单、处理速度快

##### 所构成的图形含义不确切，与形体之间不存在

##### 一一对应关系，有二义性

##### 不能计算面积、体积等物理量，不便进行光照

##### 或消隐处理，不适合真实感显示和数控加工

####  线框模型 —— 物体的骨架

# 数据模型的分类（ 1 / 3 ）

```
用线框模型表示的有二义性的物体
可有三种不同的理解，从三个方向中的一个方向打一个方孔
```

# 数据模型的分类（ 2 / 3 ）

####  表面模型 —— 物体的皮肤

##### 用有向棱边围成的部分定义形体表面，由面的集合定义形体

##### 在线框模型的基础上，增加物体表面和边的信息及表面特征、

##### 棱边的连接方向等，形体与其表面一一对应，避免了二义性，

##### 能计算面积，能满足面面求交、线面消隐、明暗处理、数控

##### 加工等需求

##### 但只有形体表面的信息，形体信息表示不完整

##### 进行剖切操作时，内部为空洞，无法计算和分析物体的整体

##### 性质（如体积、重心等），限制了在工程分析方面的应用

```
在面模型上打孔，
内部为“空洞”
```

####  实体模型 —— “有血有肉”的物体模型

# 数据模型的分类（ 3 / 3 ）

明确定义了表面的哪一侧存在实体，在表面模型基础上，使用表面外
法向指明实体存在的一侧，如规定正向指向体外
 通常用有向棱边隐含地表示表面的外法向
在定义表面时，有向棱边按右手法则取向，沿着闭合的棱边所得的方
向与表面外法向一致
此法还可检查形体的拓扑一致性，拓扑合法的形体在相邻两个面的公
共边界上，棱边的方向正好相反
描述实体所需的较多信息，如几何信息、拓扑信息。表示完整无歧义，
适合用集合运算构造形体和有限元分析。实现所有 **CAD/CAM** 任务，
保证 **CAD/CAM** 的自动化


# 本章内容

##  6. 1 多面体模型和曲面模型

##  6. 2 线框模型、表面模型和实体模型

##  6. 3 实体几何造型系统的发展

##  6. 4 实体的定义与运算

##  6. 5 实体的表示方法


# 几何造型技术的发展

##  几何造型技术的发展

#### 第一代：手工绘制工程图

#### 第二代：二维计算机绘图

#### 第三代：三维线架系统

#### 第四代：曲面造型

#### 第五代：实体造型

#####  为适应 CAD/CAM 的需求发展起来的


# 实体几何造型

## 实体几何造型（ Solid Modeling ）

####  研究三维几何实体在计算机中的完整信息表示的

#### 模型和方法的技术

####  如何在计算机中建立恰当的模型，来表示不同的

#### 图形对象？

####  如何组织图形对象的描述数据，使存储这些数据

#### 所需的空间最省，检索、处理这些数据的速度较

#### 快？


# 实体几何造型系统的发展

####  20 世纪 60 年代初期

####  20 世纪 70 年代初期

##### 计算机内提供物体的完整几何定义，可随时提取所需信息

##### 支持 CAD/CAM 过程的各个方面，如计算机绘图、应力分析、

##### 数控加工等，为 CAD/CAM 一体化提供了可能性

##### 用多面体表示形体，不支持精确的曲面表示

####  20 世纪 80 年代初期

##### 精确的二次曲面方法表示形体

####  20 世纪 80 年代末

#####  NURBS 曲面表示方法

####  20 世纪 90 年代以后

##### 开始支持线框、曲面、实体统一表示的非正则形体的造型


# 本章内容

##  6. 1 多面体模型和曲面模型

##  6. 2 线框模型、表面模型和实体模型

##  6. 3 实体几何造型系统的发展

##  6. 4 实体的定义与运算

##  6. 5 实体的表示方法


##  几何信息（ Geometry ）

##  拓扑信息（ Topology ）

# 描述实体的信息（ 1 / 3 ）

- 形体在欧氏空间中的位置和大小
- 描述形体的几何元素（顶点、边、面）
- 形成物体边界表示的“骨架”
- 形体各分量（顶点、边、面）的数目及其相互间

#### 的连接关系

- 描述形体的几何元素的性质和度量关系
- 犹如附着在“骨架”上的肌肉


```
面相邻性f:{f} 面-顶点包含性
f:{v}
```
```
面-边包含性f:{e}
```
```
顶点—面相邻性
v:{f}
```
```
顶点相邻性
v:{v}
```
```
顶点-边相邻性v:{e}
```
```
边-面相邻性e:{f} 边-顶点包含性e:{v} 边相邻性e:{e:}
```
```
f
f f
```
```
e
e f^
```
```
f
f f
```
```
e v
```
```
v
```
```
v
```
```
v
```
```
e e^
e
```
```
v
```
```
v
```
```
e
```
f (^) e f^
v
v
v
f
e
e
v v^
e
e
e e^

#### 拓

#### 扑

#### 信

#### 息

# 描述实体的信息（ 2 / 3 ）

```
v
```

##  刚体运动

#### 不改变图形上任意两点间的距离

#### 也不改变图形的几何性质的运动

##  拓扑运动

#### 允许形体作弹性运动，即在拓扑关系中，对图形

#### 可随意伸张扭曲

#### 但图上各点仍为不同的点，不允许把不同的点合

#### 并成一个点

# 描述实体的信息（ 3 / 3 ）


顶点 **(Vertex)**

边 **(Edge)**

面 **(Face)**

环 **(Loop)**

体 **(Body)**

# 表示实体的基本几何元素

```
零维几何元素。在齐次坐标系下， n 维空间中的点用
n + 1 维向量来表示。
一维几何元素。对正则形体，边是两邻面的交集，对
非正则形体，边有可能是多个邻面的交集。边的形状
可以是直线，也可以是曲线。
二维几何元素。可以无内环，但必须有且只有一个外
环。面有方向性，一般用其外法线方向作为该面的正
向。面的形状可以是平面，也可以是曲面。
二维几何元素。有序、有向边（直线段或曲线段）组
成的面的封闭边界。外环边通常按逆时针方向排序，
内环边通常按顺时针方向排序。
三维几何元素。由封闭表面围成的空间，其边界是有
限面的并集。
```
```
按照 体－面－环－边－点 的层次记录信息
```

# 正则形体的定义（ 1 / 3 ）

##  如何保证实体的有效性呢？

#### 无效的实体不具备可加工性

#### 要保证实体的有效性和可加工性，

#### 形体必须是正则形体

##  那么什么是正则形体呢？

##  几何造型

#### 通过对点、线、面、体等几何元素，经平移、

#### 放缩、旋转等几何变换和并、交、差等集合

#### 运算，产生实际的或想象的物体模型


# 正则形体的定义（ 2 / 3 ）

####  从点集拓扑学的角度理解实体

####  点的邻域

##### 若 P 是点集 S 的一个元素，则点 P 的以 R （ R> 0 ）为半径的邻

##### 域指的是围绕点 P 的半径为 R 的小球（二维情况下为小圆）

####  开集的闭包

##### 指该开集与其所有边界点的集合的并集，本身是个闭集。

##### （三维物体的点的集合可分为内部点和边界点两个部分）

####  正则点集

##### 由内部点构成的点集的闭包

####  正则形体

##### 三维空间的正则点集是正则形体，即三维有效物体


# 正则形体的定义（ 3 / 3 ）

##  如何得到一个正则形体？

#### 将三维形体点集分成内部点集和边界点集两部分

#### 先找出形体的内部点集

#### 然后得到形体内部点集的闭包 —— 正则点集

```
正则形体的形成过程
```
```
(a) 形体的开集 (b) 图(a)开集的闭包 (c) 图(a)形体的内部点集 (d)^ 图(c)内部点集的闭包
```

```
27
```
##  二维流形（ Manifold ）

#### 对于实体表面上的任意一点，都可找到一个围绕着

#### 它的任意小的邻域，该邻域与平面上的一个圆盘是

#### 拓扑等价的（存在连续的一一映射）。

# 实体的定义和性质（ 1 / 6 ）

##  实体

#### 对于一个占据有限空间的正则形体，若其表面是

#### 二维流形，则该正则形体为实体。


# 实体的定义和性质（ 2 / 6 ）

##  正则形体的性质

#### （ 1 ）刚性

#####  不变形的实体，不能随实体位置和方向而发生形状变化

```
几何元素 正则形体 非正则形体
面 是不形允体许表存面在的悬一面部分^ 可体以内是的形一体部表分面，的也一可部与分形，体也相可分是离形。
```
```
边 只不有允两许个存邻在面悬边 可有多个邻面、一个邻面或没有邻面
```
```
点 至不少允和许三存个在面孤（立或点三条边）邻接 可聚与集多体个、面聚（集或面边、）聚邻集接边，或也孤可立以点是
```
#### （ 2 ）维数的一致性

#####  三维空间中的实体的

##### 各部分均应是三维的


# 实体的定义和性质（ 3 / 6 ）

##  正则形体的性质

#### （ 3 ）有限性

#####  一个实体必须占据有限的三维空间

#### （ 4 ）边界的确定性

#####  根据实体的边界能区分出实体的内部和外部

#### （ 5 ）封闭性

#####  经过一系列刚体运动和任意次序的集合运算之后，

##### 实体仍保持其同等的有效性


# 实体的定义和性质（ 4 / 6 ）

##  正则形体的表面的性质

#### （ 1 ）连通性

#####  位于实体表面上的任意两个点，都可用实体表面上的

##### 一条路经连接起来

#### （ 2 ）有界性

#####  实体在有限空间内是可定义的，即实体表面可将空间

##### 分成互不连通的两个区域，其中一个区域是有界的


# 实体的定义和性质（ 5 / 6 ）

##  正则形体的表面的性质

#### （ 3 ）非自交性

#####  实体的表面不能自交

```
 克莱茵瓶（ Klein Bottle ）是一个
自交且不可定向的封闭曲面
```
#### （ 4 ）可定向性

#####  表面的两侧可明确地定义出属于实

##### 体的内侧还是外侧

```
 莫比乌斯带（ Mobius Band ）则是
单边不可定向的例子
```

# 实体的定义和性质（ 6 / 6 ）

####  确定多面体表面是否具有可

#### 定向性的方法

```
 Mobius 提出将实体的每个表面
的边环定义一个一致的方向
（如逆时针方向）；
这样，每条边会得到两个指示
方向的箭头；
当且仅当每条边在每个方向都
具有一个箭头时，该实体表面
就是可定向的。
```

# 平面多面体与欧拉公式（ 1 / 4 ）

##  欧拉特征

```
设表面 s 由一个平面模型给出，且 v,e,f 分别表示其顶点、
边和面的个数，那么 v-e+f 是一个常数，它与 s 划分形成
平面模型的方式无关，该常数称为 Euler 特征。
```
```
v= 8 ,e= 13 ,f= 7
```
##  欧拉公式 v – e + f = 2


##  欧拉物体

#### 满足欧拉公式的物体

# 平面多面体与欧拉公式（ 2 / 4 ）

##### 欧拉公式只是检查实体有效性的必要条件，而非充分条件

```
v= 10 , e= 15 , f= 7
```

####  欧拉运算

```
增加或删除面、边和顶点以生成新的欧拉物体的过程
```
 进行欧拉运算时，除了要满足欧拉公式外，还必须满足以下

```
附加条件，才能够保证实体的拓扑有效性：
所有面是单连通的，其中没有孔；
实体的补集是单连通的，没有洞穿过它；
每条边完全与两个面邻接，且每端以一个顶点结束；
每个顶点都至少是三条边的汇合点。
```
# 平面多面体与欧拉公式（ 3 / 4 ）


# 平面多面体与欧拉公式（ 4 / 4 ）

##  对于非简单多面体，欧

拉公式是否成立呢？ (^) **v – e + f – r = 2 (s - h)
r:** 多面体表面上内孔数
**s:** 相互分离的多面体数
**h:** 贯穿多面体的孔洞数
_v_ = 16 , _e_ = 32 , _f_ = 16
_r_ = 0 , _s_ = 1 , _h_ = 1

##### 有一个贯穿的方孔和一个

##### 非贯穿的方孔的立方体

##### 欧拉公式不适用于非简单多面体

##  广义欧拉公式

```
v = 24 , e = 36 , f = 15
r = 3 , s = 1 , h = 1
```

# 实体的正则集合运算（ 1 / 8 ）

####  正则集合运算

##### 能产生正则形体的集合运算

####  为什么在正则实体造型中，不使用普通的并、交、

#### 差等集合运算，而要使用正则集合运算呢？

##### 正则集合运算保证集合运算的结果仍是一个正则形体

##### 普通的集合运算会产生悬边、悬面等低于三维的形体

```
普通集合的交 正则集合的交
```

# 实体的正则集合运算（ 2 / 8 ）

##  如何实现正则集合运算？

#### 方法 1 ：

#####  先按照普通集合运算

#####  再删去不符合正则形体定义的部分：悬边、悬面等

#### 方法 2 ：

#####  定义正则集合算子，直接计算得到


# 实体的正则集合运算（ 3 / 8 ）

#####  任何物体都可用三维欧氏空间中点的集合来表示，但三维欧氏

##### 空间中任意点的集合却不一定对应于一个有效的物体

#####  设有三维空间中的一个点集 A ，如果 A 满足

#####  那么称 � ∙ � 为 A 的正则点集

 其中， **_r_** 表示正则化算子， **_b_** 、 **_i_** 分别表示取闭包运算和取内点

```
运算，相当于内部点构成的点集的闭包
```
 正则运算

```
先对物体取内点再取闭包的运算
```
#### � ∙ � = � ∙ � ∙ �


# 实体的正则集合运算（ 4 / 8 ）

#### 正则集合运算定义如下 :

####  正则并 :

####  正则交 :

####  正则差 :

```
A op * B  r ( A op B )
```
```
A * B  r ( A  B )
```
```
A ∩* B  r ( A ∩ B )
```
```
A * B  r ( A  B )
```

# 实体的正则集合运算（ 5 / 8 ）

##  以正则交集合运算为例

#### 符合正则形体定义的实体，是三维空间中的点的

#### 正则点集，可以用它的边界点集和内部点集来表

#### 示，即写成

#####  A 为符合正则形体定义的实体

```
 bA 代表 A 的边界点集
```
```
 iA 代表 A 的内部点集
```
## A  bA  iA


# 实体的正则集合运算（ 6 / 8 ）

####  正则交运算

####  确定两个相交物体的重叠边界中的有效部分

##### 确定图中粗实线所示边界中的有效部分

```
C  ( bA ∩ bB )( iA ∩ bB )( bA ∩ iB )( iA ∩ iB )
```
```
正则交运算的候选部分
```
```
(a)
```
```
A B A B A B
1
```
```
2
```
```
A B
```
```
bA ∩ bB (b)^ iA ∩ bB (c) bA ∩ iB (d) iA ∩ iB
```
```
� =��∪��
�= ��∪��
```
```
A B
� = � ∩∗�
```

# 实体的正则集合运算（ 7 / 8 ）

####  确定两个相交物体的重叠边界中的有效部分

##### 确定图中粗实线所示边界中的有效部分

##### 如果对物体的边界采用一致的方向约定，那么，在两个相交

##### 物体的重叠边界上，如果某点处的切矢同向，则重叠边界线

##### 段就是有效的边界，否则是无效的边界

```
A ∩* B  Validb( bA ∩ bB )( iA ∩ bB )( bA ∩ iB )( iA ∩ iB )
```
```
正则交运算的候选部分
```
```
A B A B A B
```
```
(a) (b)^ iA ∩ bB (c) bA ∩ iB (d) iA ∩ iB
```
```
A B
1
```
```
2
bA ∩ bB
```

# 实体的正则集合运算（ 8 / 8 ）

##  正则并、交、差集合运算

```
(a) A 与 B (b) A ∪∗ B (c) A ∩∗ B (d) A −∗ B
```

# Q & A


# 本章内容

##  6. 1 多面体模型和曲面模型

##  6. 2 线框模型、表面模型和实体模型

##  6. 3 实体几何造型系统的发展

##  6. 4 实体的定义与运算

##  6. 5 实体的表示方法


# 6. 5 实体的表示方法

##  边界表示

##  空间分割表示

##  构造实体几何表示

##  扫描表示

##  元球表示


####  Boundary Representation ，称 BR 或 B-reps 表示

```
 当前 CAD/CAM 系统中的最主要的表示方法，最成熟、无二义性
 用一组曲面或平面来描述物体，这些曲面或平面将物体分为内部和外部
```
# 数据模型 —— 边界表示（ 1 / 4 ）

####  物体的边界与物体一一对应

```
 实体的边界是表面的并集
 表面的边界是边的并集
```
####  多边形表面模型

```
 边界表示的最普遍方式
 使用一组包围物体内部的平面多边形，即
平面多面体，来描述实体
```

# 数据模型 —— 边界表示（ 2 / 4 ）

#####  多面体表示的实体的表面、棱边、顶点间的连接关系有 9 种

#####  至少需要选择其中的 2 种才能表示一个实体的完整的拓扑信息

```
表面、棱边、顶点之间的拓扑关系
```
```
f f
f
```
```
f
```
```
f
```
```
f→ { f }
```
```
f e
e
```
```
e
```
```
e
```
```
f→ { e }
```
```
f
```
```
v
```
```
v^ v
```
```
v
```
```
f→ { v }
```
```
f e f
```
```
e→ { f }
```
```
e
e^ e
```
```
e e
```
```
e→ { e }
```
```
e
```
```
v
```
```
v
```
```
e→ { v }
```
```
v
f f
```
```
f
```
```
v→ { f }
v e
e
```
```
e
```
```
v→ { e }
v
```
```
v
```
```
v
```
```
v
```
```
v→ { v }
```
```
采用较少的关系类型
进行组合来表示一个
实体，所需的存储空
间小，但对数据的查
找时间长
反之，所需的存储空
间大，但对数据的查
找时间短
```

# 数据模型 —— 边界表示（ 3 / 4 ）

####  翼边数据结构

```
最早由美国斯坦福大学 B. G. Baumgart
等人于 1972 年提出
以边为核心来组织数据的一种数据结构
用指针记录每一边的两个邻面（即左外
环和右外环）、两个顶点、两侧各自相
邻的两个邻边（即左上边、左下边、右
上边和右下边）
用此数据结构表示多面体模型是完备的，
但不能表示有精确曲面边界的实体
```

####  半边数据结构

#####  20 世纪 80 年代提出，已成为边界表示

##### 的主流数据结构

##### 以边为核心，将一条物理边拆成拓扑意

##### 义上方向相反的两条“半边”来表示，

##### 使其中每条边只与一个邻接面相关

##### 因半边数据结构中的边只表示相应物理

##### 边的一半信息，故称其为半边

##### 在拓扑上分为体 — 面 — 环 — 半边 — 顶点

##### 五个层次

# 数据模型 —— 边界表示（ 4 / 4 ）


# 6. 5 实体的表示方法

##  边界表示

##  空间分割表示

##  构造实体几何表示

##  扫描表示

##  元球表示


# 数据模型 —— 空间分割表示（ 1 / 6 ）

####  将包含物体的空间划分成一组非常小的非重叠连续实体

####  空间位置枚举表示

##### 选择一个立方体空间，将其均匀划分

##### 用三维数组 C[I][J][K] 表示物体，数组中的元素与单位小立方

##### 体一一对应

- 当 **C[I][J][k] = 1** 时，表示对应的小立
    方体被物体占据
- 当 **C[I][J][k] = 0** 时，表示对应的小立
    方体没有被物体占据

```
C[I][J][k]
```

# 数据模型 —— 空间分割表示（ 2 / 6 ）

##  八叉树（ Octree ）表示

#### 对空间位置枚举表示的空间分割方法作了改进：

#### 均匀分割 自适应分割


# 数据模型 —— 空间分割表示（ 3 / 6 ）

##  八叉树建立过程

##### 八叉树的根节点对应整个物体空间

```
如果它完全被物体占据，将该节点标记为 F(Full) ，算法结束；
```
```
如果它内部没有物体，将该节点标记为 E(Empty) ，算法结束；
```
```
如果它被物体部分占据，将该节点标记为 P(Partial) ，并将它
分割成 8 个子立方体，对每一个子立方体进行同样的处理
```

# 数据模型 —— 空间分割表示（ 4 / 6 ）

```
z
```
```
y
```
```
x
5 5
```
```
4 57 5
```
(^77)
F
P
E E E E E E
E E E E F F E F
P
0 1 2 3 4 5 6
0 1 2 3 4 5 6
7
7


# 数据模型 —— 空间分割表示（ 5 / 6 ）

##  单元分解（ Cell Decomposition ）表示

#### 对空间位置枚举表示的空间分割方法作了改进：

#### 单一体素 多种体素


# 数据模型 —— 空间分割表示（ 6 / 6 ）

##  三种空间分割方法的比较

#### 空间位置枚举表示：同样大小立方体粘合在一起

#### 表示物体

#### 八叉树表示：不同大小的立方体粘合在一起表示

#### 物体

#### 单元分解表示：多种体素粘合在一起表示物体


# 6. 5 实体的表示方法

##  边界表示

##  空间分割表示

##  构造实体几何表示

##  扫描表示

##  元球表示


## 数据模型 —— 构造实体几何表示（ 1 / 3 ）

###  Constructive Solid Geometry ，简称 CSG

#### 由基本体素通过正则集合操作生成新的物体

```
 并（Union），交（Intersection），差（Difference）
```
```
交 并 差
```
```
体素：
球和柱
```

## 数据模型 —— 构造实体几何表示（ 2 / 3 ）

####  将物体表示成一棵二叉树，称为 CSG 树

##### 叶节点：基本体素，如立方体、圆柱、圆环、锥体、球体等

##### 中间节点：并、交、差正则集合运算


## 数据模型 —— 构造实体几何表示（ 3 / 3 ）

###  优点

#### 如果体素设置比较齐全，通过集合运算就可构造出

#### 多种不同的符合需要的实体。

###  缺点

#### 集合运算的中间结果难以用简单的代数方程表示，

#### 求交困难

####  CSG 树不能显式地表示形体的边界，因而无法直

#### 接显示 CSG 树表示的形体


# 6. 5 实体的表示方法

##  边界表示

##  空间分割表示

##  构造实体几何表示

##  扫描表示

##  元球表示


# 数据模型 —— 扫描表示 ( 1 / 5 )

##  扫描表示（ Sweep Representation ）

##  基于一个基体（一般为封闭的二维区域）沿

## 某一路径运动而产生形体

##  Sweep 体

##  两个分量

#### 被运动的基体

#### 基体运动的路径

## 如果是变截面的扫描，还要给出截面变化规律


# 数据模型 —— 扫描表示 ( 2 / 5 )

##  根据扫描路径和方式的不同，可将 sweep 体

## 分为以下几种类型 ：

#### 平移 sweep 体

#### 旋转 sweep 体

#### 广义 sweep 体


# 数据模型 —— 扫描表示 ( 3 / 5 )

##  平移 sweep 体

#### 将一个二维区域沿着一个矢量方向（线性路

#### 径）推移，拉伸曲面


# 数据模型 —— 扫描表示 ( 4 / 5 )

##  旋转 sweep 体

#### 将一个二维区域绕旋转轴旋转一特定角度

#### 旋转曲面

##### 旋转轴 旋转扫描法


# 数据模型 —— 扫描表示 ( 5 / 5 )

##  广义 sweep 体

## 任意剖面沿着任意轨迹扫描指定的距离

#### 扫描路径可用曲线函数来描述

#### 可沿扫描路径变化剖面的形状和大小

#### 或当移动该形状通过某空间时变化剖面相对于扫

## 描路径的方向，也称扫描曲面

```
扫描体的扫描路径为曲线时得到的广义 sweep 体
```
```
基面 基面
```
```
(a) 等截面扫描 (b) 变截面扫描
广义扫描法
```

# 6. 5 实体的表示方法

##  边界表示

##  空间分割表示

##  构造实体几何表示

##  扫描表示

##  元球表示


# 元球表示法（ 1 / 2 ）

####  用相互重叠的球体表示物体形状

####  特点

##### 数据描述方法简单

#####  球体只需要球心和半径两个参数就能

##### 完全确定

##### 计算速度快、所需内存小

#####  特殊性质：球体的平行投影总是圆

#####  用球体表示三维物体（尤其是人体）

##### 计算速度快

#####  使用 300 多个球体就相当好地表示了

##### 人体


# 元球表示法（ 2 / 2 ）

####  元球（ Metaball ）模型 —— 柔性物体的建模方法

#### 元球造型通常通过元球的添加、减少、变换和参

#### 数调整等操作来实现

#### 许多动画软件都提供了基于元球的造型工具，来

#### 生成那些不适合用多边形或样条函数来模拟的物

#### 体，如人体肌肉、器官、液体等


# 三维实体表示模型的分类

##  模型分类

```
规则形体的建模方法
（完全以数据描述）
 边界表示
 空间分割表示
 构造表示
 ......
```
```
不规则形体的建模方法（以过程和控制参数
描述，数据文件和一段描述生成规则的代码）
 随机插值模型
 迭代函数系统
 L 系统
 粒子系统
 ......
```
#### 形体表示

#### 数据模型 过程模型


# 非正则实体造型

####  基于正则形体表示的实体造型技术

##### 只能表示正则的三维“体”

##### 不能表示线架模型中的“线”，表面模型中的“面”

##### 但在实际应用中，有时候人们希望在系统中也能处理低于

##### 三维的形体

#####  形体中心轴

#####  剖切平面

#### 要求造型系统的数据结构能统一表示线架、表面、

#### 实体模型

#### 于是，产生了非正则实体造型技术


# Q & A


