
### 1 窗口视图变换

### 2 二维图形几何变换

### 3 三维图形几何变换

### 4 投影变换

### 5 二维线段裁剪

### 6 多边形的裁剪


#### 1. 在二维屏幕上如何显示三维物体？

- 显示器屏幕、绘图纸等是二维的
- 显示对象是三维的
- 解决方法
    - 投影
    - 三维显示设备


#### 2. 如何表示三维物体？

- 二维形体的表示 **——** 直线段、折线、曲线段、多边形区域
- 二维形体的输入 **——** 简单（图形显示设备与形体的维数一致）
- 三维形体的表示 **——** 空间直线段、折线、曲线段、多边形、
    曲面片
- 三维形体的输入、运算、有效性保证 **——** 困难
- 解决方法 **——** 各种用于形体表示的理论、模型、方法


#### 3. 如何反映遮挡关系？

- 物体之间或物体的不同部分之间存在相互遮挡关系
- 遮挡关系是空间位置关系的重要组成部分
- 解决方法——消除隐藏面与隐藏线


#### 4. 如何产生真实感图形

```
 何谓真实感图形？
 逼真的
 示意的
 人们观察现实世界产生的真实感来源于
 空间位置关系 —— 近大远小的透视关系和遮挡关系
 光线传播引起的物体表面颜色的自然分布
 解决方法
 建立光照明模型
 采用真实感图形绘制方法
```

### 三维图形显示的基本研究内容

- 投影变换
- 隐藏面消除算法
- 三维形体的表示
- 光照明模型、真实感图形绘制方法


####  照像机模型与投影

```
 如何投影?
 生活中的类比 —— 如何拍摄景物？
 拍摄过程
 选景，取景 —— 裁剪
 对焦 —— 参考点
 按快门 —— 成像
 移动方式
 移动景物
 移动照相机
 两个坐标系
```

####  投影 —— 照相机模型

```
 选定投影类型
 设置投影参数 —— 拍摄方向、距离等
 三维裁剪 —— 取景
 投影和显示 —— 成像
```
####  简单的三维图形显示流程图

```
窗口到视
区的变换
```
```
三维
裁剪 投影
```
```
三维世界
坐标系
```
```
二维世界
坐标系
```

#### 平面几何投影：

####  投影

```
 将 n 维的点变换成小于 n 维的点
 将 3 维的点变换成小于 3 维的点
```
####  投影中心 (COP: Center of Projection)

```
 视觉系统 — 观察点、视点
 电影放映机 — 光源
```
####  投影面

```
 不经过投影中心
 平面 — 照相机底片
 曲面 — 球幕电影，视网膜
```

####  投影线

```
 从投影中心向物体上各点发出的射线
 直线 — 光线
 曲线 — 喷绘
```
####  平面几何投影

```
 投影面是平面
 投影线为直线
```
####  投影变换

```
 投影过程
 投影的数学表示
```

### 投影分类

平行投影：投影中心与投影平面之
间的距离为无限，是透视投影的极
限状态

透视投影：投影中心与投影平面之
间的距离有限

```
投影中心 投影平面
```
```
�’
�’
```
```
�
�
```
```
投影方向 投影平面
```
```
�’
�’
```
```
�
�
```

### 投影分类

```
正平行投影
```
```
斜平行投影
```
```
根据投影方向
与投影平面的
夹角
```
```
投影平面
```
```
投影方向
```
```
投影平面
```
```
投影方向
```

```
 三视图：正视图、侧视图和俯视图
```
```

```
```


```
```


```
```


```
```


0 0 0 1
```
```
0 0 1 0
```
```
0 0 0 0
```
```
1 0 0 0
Tv
```
```

```
```

```
```

```
```

```
```

```
```

```
```

```
```

```
```

```
```

```
```
 

```
```


```
```

```
```

```
```


```
```

    
```
```
   

```
```


```
```

```
```

```
```


```
```


0 0 1
```
```
0 0 1 0
```
```
0 1 0 0
```
```
1 0 0 0
```
```
0 0 0 1
```
```
0 sin( 90 ) cos( 90 ) 0
```
```
0 cos( 90 ) sin( 90 ) 0
```
```
1 0 0 0
```
```
0 0 0 1
```
```
0 0 0 0
```
```
0 1 0 0
```
```
1 0 0 0
```
```
p
```
```
h
z
```
```
T
```
```

```
```


```
```

```
```

```
```


```
```

```
```
 

```
```

```
```

```
```

```
```

```
```


```
```

  
```
```
 
```
```

```
```


```
```

```
```

```
```


```
```


0 0 1
```
```
0 0 1 0
```
```
0 1 0 0
```
```
1 0 0 0
```
```
0 0 0 1
```
```
0 0 1 0
```
```
sin 90 cos 90 0 0
```
```
cos 90 sin 90 0 0
```
```
0 0 0 1
```
```
0 0 1 0
```
```
0 1 0 0
```
```
0 0 0 0
```
```
L
```
```
w
x
```
```
T
```
```
z
```
```
主视图
```
```
俯视图
```
```
侧视图
```
```
一个直角棱台的三视图
```
**x**

```
y
```
```
主
```
```
俯
```
```
侧
```

 从三视图很难想象出实际物体的空间形状

```
轴侧图
```

####  解决：

```
 投影平面不垂直于任何一个坐标轴 —— 正轴侧投影（ xoy ）
```
```
y
```
```
z x
正轴侧投影平面的定义
```
```

```
```


```
```

```
```

```
```


```
```

  
```
```
 

```
```


```
```

```
```

```
```


```
```

 
```
```
  
 
0 0 0 1
```
```
0 sin cos 0
```
```
0 cos sin 0
```
```
1 0 0 0
```
```
0 0 0 1
```
```
sin 0 cos 0
```
```
0 1 0 0
```
```
cos 0 sin 0
Ryx RyRx

```
```


```
```

```
```

```
```


```
```

     
```
```
 
```
```
     

0 0 0 1
```
```
sin cos sin cos cos 0
```
```
0 cos sin 0
```
```
cos sin sin sin cos 0
```
```

```
```


```
```

```
```

```
```


```
```


0 0 0 1
```
```
0 0 0 0
```
```
0 1 0 0
```
```
1 0 0 0
T Ryx

```
```


```
```

```
```

```
```


```
```

   
```
```

```
```
  

0 0 0 1
```
```
sin cos sin 0 0
```
```
0 cos 0 0
```
```
cos sin sin 0 0
```
####  x  y  z  1  x y z 1  T

```
投影方程：
```
```
�
```
```
�
```
```
o
```

```
120 ° 120 °
120 °
```
```
y
```
```
z x
```
```
投影平面
```
```
三个单位向量将投影成三个长度相
等的平面向量，即三根坐标轴有相
同的变形系数
```
正方体的正等轴侧投影

�′ �′ �′ (^1) �
=^1001 �
=^ cos� sin�sin�^01
�′ �′ �′ (^1) �
= 0 1 0 1 �
=^0 cos� 0 1
�′ �′ �′ (^1) �
=^0011 �
=^ sin� −cos�sin�^01
这三个单位向量的长度分别变为：
�=
cos� sin�sin� 0 0
0 cos� 0 0
sin� −cos�sin� 0 0
0 0 0 1
cos^2 �+(sin�sin�)^2
sin^2 �+(−cos�sin�)^2
cos^2 �


cos^2 �+(sin�sin�)^2 = cos^2 �

```
sin^2 �+(−cos�sin�)^2 = cos^2 �
```
```
cos^2 �+(sin�sin�)^2 = cos^2 �
sin^2 �= sin
```
(^2) �
1 −sin^2 �
��==^3455 .°^2  6  4 ° ��==^2202 ..^720058 °°
正等轴测投影 正二轴测投影


####  透视投影

- 投影中心与投影平面之间的距离有限
- 参数：投影方向，距离
- 例子：室内白炽灯的投影，视觉系统

####  特点：

- 产生近大远小的视觉效果，
    由它产生的图形深度感强，
    看起来更加真实。


```
Y  透视投影投影方程
```
```
X
```
```
Z
```
投影中心

```
P
```
```
一点透视 投平影面
```
```
令 �=− 1 /�
```
```
z d
```
```
x
z d
```
```
x
d
```
```
x
    

(| | )
z d
```
```
y
z d
```
```
y
d
```
```
y
    

(| | )
 ( z / d ) 1
x x
  ( z / d ) 1
y y
```
```

```
```


```
```

```
```

```
```


```
```


0 0 0 1
```
```
0 0 1
```
```
0 1 0 0
```
```
1 0 0 0
T r
 x  y  z  H   x y z 1  T   x y z rz  1 
```
```
 x  y  z  1   rzx  1 rzy  1 rzz  1 1 
```
```
�
```
```
� �’ �
�’
```
```
�
�’
```

```
灭点的个数?
```
 灭点：
不平行于投影平面的平行线，经过透视投影之后相交于一点，称为灭点

```
y
```
```
x
z
```
```
z轴灭点
```
```
正方体的一点透视及其灭点
```
```
空间平行线可认为是相交于无穷远点，灭点
可以看成是无穷远点经透视投影后得到的点
```
� � � � (^) = (^0010)
1 0 0 0
0 1 0 0
00 00 10 � 1 =^001 �^
�′ �′ �′ 1 = 0 0 1 /� 1


```
一点透视 两点透视 三点透视
```
 主灭点：平行于坐标轴的平行线在投影平面产生的灭点。
 一点透视
 两点透视
 三点透视

```
主灭点的个数由什么决定?
```

### 1 窗口视图变换

### 2 二维图形几何变换

### 3 三维图形几何变换

### 4 投影变换

### 5 二维线段裁剪

### 6 多边形的裁剪


# 二维线段裁剪 ( 1 / 18 )

##  裁剪（ Clipping ）的目的

```
 判断图形元素是否在裁剪窗口之内，并找出其位于内部的
部分
```
##  裁剪窗口

```
 矩形、圆形、一般多边形
```
##  被裁剪对象

```
 线段、多边形、曲线、字符
```
##  裁剪与覆盖的区别


# 二维线段裁剪 ( 2 / 18 )

####  把直线当作点的集合，逐点裁剪

####  点 (x, y) 在窗口内的充分必要条件：

####  问题：极其费时，精度不高

####  设计裁剪算法的核心问题

```
 效率高，速度快
```
## x min  x  x max

## y min  y  y max


# 二维线段裁剪 ( 3 / 18 )

##  把直线当作一个整体来裁剪

####  矩形裁剪窗口：

## [xmin ， xmax]  [ymin ， ymax]

####  待裁剪线段：

## P 0 ( x 0 , y 0 ) P 1 ( x 1 , y 1 )


# 二维线段裁剪 ( 4 / 18 )

####  待裁剪线段和窗口的关系

- 完全落在窗口内
- 完全落在窗口外
- 部分在内，部分在外

####  任何平面线段在凸多边形窗口进行裁剪后，落

#### 在窗口内的线段不会多于 1 条

####  裁剪处理的基础

- 图形关于窗口内外关系的判别
- 图形与窗口的求交

```
���� ����
```
```
����
```
```
����
```

# 5. 5 二维线段裁剪

## 矩形窗口线段裁剪

##  直接求交算法

####  Cohen-Sutherland 算法

####  中点分割裁剪算法

####  梁友栋 - Barsky 算法


#### 直线与窗口边都写成参

#### 数形式，

#### 直线求交 —— 求参数值

# 直接求交算法


# 5. 5 二维线段裁剪

## 矩形窗口线段裁剪

##  直接求交算法

####  Cohen-Sutherland 算法

####  中点分割裁剪算法

####  梁友栋 - Barsky 算法


##### 为提高效率，该算法强调：

- 快速判断情形( 1 )( 2 )；
- 减少情形( 3 )的求交次数和求交所需的计算量。

####  待裁剪线段和窗口的关系：

#### ( 1 ) 完全落在窗口内；

#### ( 2 ) 完全落在窗口外；

#### ( 3 ) 部分在内，部分在外。

# Cohen-Sutherland 算法（ 1 / 6 ）


#### 算法步骤：

```
1. 判别线段两端点是否都落在窗口内，如果是，则线段完
全可见，转至第 4 步；
2. 判别线段是否为显然不可见，如果是，则裁剪结束，转
至第 4 步；
3. 求线段与窗口边延长线的交点，这个交点将线段分为两
段，其中一段显然不可见，丢弃。对余下的另一段重新
进行第 1 步处理；
4. 结束。
```
# Cohen-Sutherland 算法（ 2 / 6 ）


####  关键问题：

```
 如何快速判别 完全可见 和 显然不可见 线段？
```
####  解决方法 —— 编码

```
 由窗口四条边所在直线把二维平面分成 9 个区域，每个区
域赋予一个四位编码， CtCbCrCl
```
```
1
1
1
```
```
0
0
0
```
```
0
0
0
```
```
1
1
1
```
```
0
0
0
```
```
0
0
10 1 1
```
```
0 0 0
```
```
10 10 10
0 0 0
0 0 0
```
# Cohen-Sutherland 算法（ 3 / 6 ）

```
���� ����
```
```
����
```
```
����
```
```
x
```
```
y
```

```
���� ����
```
```
����
```
```
����
```
```
x
```
```
y
```
```
0000
```
```
1010
0010
```
```
0110
```
```
1001
0001
```
```
0101
```
```
1000
```
```
0100
```
# Cohen-Sutherland 算法（ 4 / 6 ）

####  也称为编码裁剪算法

##  端点编码：

####  定义为它所在区域的编

#### 码

##  快速判断“显然不可见”

####  线段两端点编码的按位

#### 与运算结果非零


```
���� ����
```
```
����
```
```
����
```
```
x
```
```
y
```
```
0000
```
```
1010
0010
```
```
0110
```
```
1001
0001
```
```
0101
```
```
1000
```
```
0100
```
#### 逐个端点判断其编码

#### CtCbCrCl 中各位是否为 1 ，

#### 若是，则求交。

#### 最坏情形：

#### 线段求交四次。

#### 对于部分可见又部分不可见的线段，需要求交，

#### 求交前先测试与窗口哪条边所在直线有交？

# Cohen-Sutherland 算法（ 5 / 6 ）


#### 1 ）特点：

#### 用编码方法可快速判断线段 —— 完全可见 或

#### 显然不可见。

#### 2 ）特别适用两种场合：

- 大窗口场合；
- 窗口特别小的场合

（如：光标拾取图形时，光标看作小的裁剪窗口）

# Cohen-Sutherland 算法（ 6 / 6 ）


# 5. 5 二维线段裁剪

## 矩形窗口线段裁剪

##  直接求交算法

####  Cohen-Sutherland 算法

####  中点分割裁剪算法

####  梁友栋 - Barsky 算法


# 中点分割裁剪算法（ 1 / 2 ）

```
用 P 1 Pm 代替 P 1 P 2 P 2 在窗口内，则是距 P 1 最远的可见点 用 PmP 2 代替 P 1 P 2
```
```
P 2
```
```
P 1
```
```
P 2
Pm
P 1
```
 基本思想：利用对分搜索思想，折半搜索交点

```
 不断地在中点处将线段一分为二，取中点 Pm= (P 1 +P 2 )/ 2 ；
 对每段线段重复 Cohen-Sutherland 算法的线段可见性测试；
 直至找到每段线段与窗口边界线的交点；
 或分割子段的长度充分小到可视为一个点为止。
```
```
Pm
```
```
P 1
```
```
P 2
```

# 中点分割裁剪算法（ 2 / 2 ）

##  优点：

####  算法原理和编码裁剪是一致的，不同之处在于

#### 用移位运算 ( 除 2 ) 代替求交计算

####  适合硬件实现


# 5. 5 二维线段裁剪

## 矩形窗口线段裁剪

##  直接求交算法

####  Cohen-Sutherland 算法

####  中点分割裁剪算法

####  梁友栋 - Barsky 算法


```
P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R
```
```
T
```
```
S
```
```
U
```
```
L
```
```
A
```
```
B
```
```
直线 L 为线段 AB 的延长线
AS 是一维窗口 TS 中的可见部分
```
## Liang-Barsky 裁剪算法（ 1 / 5 ）

####  基本思想：

#### 把二维裁剪转为一维裁剪问题，并向 x ( 或 y) 方

#### 向投影以决定可见线段


 直线 **L** 与区域的交集 **Q** ：

## Liang-Barsky 裁剪算法（ 2 / 5 ）

```
P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R
```
```
T
```
```
S
```
```
U
```
```
L
```
```
A
```
```
B P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R
```
```
T
```
```
S
```
```
U
```
```
L
```
```
A
```
```
B
```
```
 当 Q 为空集时，线段 AB 不可能在窗口中有可见线段；
 当 Q 不为空集时， Q 可看成是一个一维窗口。
```

####  存在可见线段的充要条件：

#### AB∩Q 即 AB∩RS∩TU 不为空集。

## Liang-Barsky 裁剪算法（ 3 / 5 ）

###### Q  RS ∩ TU

```
P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R
```
```
T
```
```
S
```
```
U
```
```
L
```
```
A
```
```
B P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R
```
```
T
```
```
S
```
```
U
```
```
L
```
```
A
```
```
B
```
```
 当 Q 为空集时，线段 AB 不可能在窗口中有可见线段；
 当 Q 不为空集时， Q 可看成是一个一维窗口。
```

## Liang-Barsky 裁剪算法（ 4 / 5 ）

####  向 x 轴投影，得到可见线段端点的 x 坐标变化范围

max[ _x_ min,min( _xA_ , _xB_ ),min( _xT_ , _xU_ )] _x_  min[ _x_ max,max( _xA_ , _xB_ ),max( _xT_ , _xU_ )]

```
min[ ,max( , ),max( , )]
```
```
max[ ,min( , ),min( , )]
max
```
```
min
A B T U
```
```
A B T U
x x x x x x
```
```
x x x x x x

```
```


```
```
左端点 x 坐标 
右端点 x 坐标
```
```
 AB, RS, TU 三条线段的交集的端点坐标
 等价于求三条线段的
```
#### 左端点的最大值，右端点的最小值

```
P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R T
```
```
S U
```
```
L
```
```
A
```
```
B
```
```
y 坐标可由将 x 坐标代入直线方程计算得到
```
```
UR
```
```
T S
```
```
 存在可见线段的充要条件：
AB∩Q 即 AB∩RS∩TU 不为空集。
```

####  AB 有可见部分的充要条件也可表示为

```
max[ x min,min( xA , xB ),min( xT , xU )]min[ x max,max( xA , xB ),max( xT , xU )]
```
##### 令 L  max[ x min,min( xA , xB )] R  min[ x max,max( xA , xB )]

```
等价于判断
```
```
� ≤ �
� ≤max(��,��)
min(��,��) ≤ �
```
## Liang-Barsky 裁剪算法（ 5 / 5 ）

```
则有：max[ L ,min( xT , xU )]min[ R ,max( xT , xU )]
```
max[ _x_ min,min( _xA_ , _xB_ ),min( _xT_ , _xU_ )] _x_  min[ _x_ max,max( _xA_ , _xB_ ),max( _xT_ , _xU_ )]

```
可根据线段的斜率取值对上式作进一步化解
```
```
P 4
```
```
P 1
```
```
P 3
```
```
P 2
```
```
ymax
```
```
ymin
```
```
xmin xmax
```
```
R T
```
```
S U
```
```
L
```
```
A
```
```
B
UR
```
```
T S
```

### 1 窗口视图变换

### 2 二维图形几何变换

### 3 三维图形几何变换

### 4 投影变换

### 5 二维线段裁剪

### 6 多边形的裁剪


# 多边形裁剪（ 1 / 2 ）

####  错觉：多边形裁剪是直线段裁剪的组合？

##  新的问题：

```
A
B
```
```
A
B
```
```
因丢失顶点信息而无法确定裁剪区域 原来封闭的多边形变成了孤立的线段
```
```
边界不再封闭，需要用窗口边界的恰当部分来封闭它
```

```
1
```
(^22)
3
**(a) (b) (c)**
A B
裁剪后的多边形顶点形成的几种情况

# 多边形裁剪（ 2 / 2 ）

##  新的问题：

#### 裁剪结果有可能分裂为几个多边形

####  关键：

```
 不仅在于求出新的顶点，删去边界外顶点
 还在于形成正确的顶点序列
```

# 多边形裁剪

##  常用算法

####  Sutherland-Hodgman 算法

####  Weiler-Atherton 算法


## Sutherland-Hodgman 算法（ 1 / 3 ）

####  分割处理策略：

```
 将多边形关于矩形窗口的裁剪分解为多边形关于
窗口四边所在直线的裁剪。
```
####  裁剪过程 ( 左上右下 ) ：

```
亦称逐边裁剪算法
```

## Sutherland-Hodgman 算法（ 2 / 3 ）

 多边形的边与半空间的关系

```
线段与当前裁剪边的位置关系
```
```
可见一侧
```
```
窗口
(a) 输出 Pi+ 1
```
```
当前裁剪边
```
```
Pi+ 1
Pi
```
```
可见一侧
```
```
窗口
(b) 无输出
```
```
当前裁剪边
```
```
Pi+ 1
```
```
Pi
```
```
可见一侧
```
```
窗口
(c) 输出 I
```
```
当前裁剪边
```
```
Pi Pi+^1
```
```
可见一侧
```
```
窗口
(d) 输出 I 和 Pi+ 1
```
```
当前裁剪边
```
Pi+ (^1) Pi
**I
I**

####  裁剪结果的顶点构成：

```
 裁剪边内侧的原顶点
 多边形的边与裁剪边的交点
 顶点顺序连接
```

## Sutherland-Hodgman 算法（ 3 / 3 ）

 可推广到任意凸多边形裁剪窗口，那么凹多边形窗口怎么办？
 逐边裁剪法对凹多边形裁剪时，裁剪后分裂为几个多边形，这几
个多边形沿边框产生多余的线段，如 **1 - 10** ， **8 - 9** 。

```
逐边裁剪法对凹多边形进行裁剪
```
```
3 2
```
```
1 8 7
```
```
6
9
4 5
10
3 2
```
```
1 7 6
```
```
4
10
```
```
9 8 5
```
(^32)
1 7
4
10
9 8 5
6
原图
对边左裁 对边顶裁
(^132)
7
4
10
(^985)
6
对边右裁
对边底裁


# 多边形裁剪

##  常用算法

####  Sutherland-Hodgman 算法

####  Weiler-Atherton 算法


# Weiler-Atherton 算法（ 1 / 7 ）

#### 裁剪窗口为任意多边形（凸、凹、带内环）的情况：

####  主多边形：被裁剪多边形，记为 SP(Subject Polygon)

####  裁剪多边形：裁剪窗口，记为 CP(Clip Polygon)


##  约定：

####  SP 与 CP 均用它们顶点的环形链表定义

####  外边界取顺时针方向

####  内边界取逆时针方向

####  使得沿多边形的边走动，

#### 其右边为多边形的内部。

# Weiler-Atherton 算法（ 2 / 7 ）

```
C 2
```
```
C 1
```
```
C 3
```
```
C 4
```
```
C 8 C 7
```
```
C 5 C 6
```

#### SP 和 CP 把主多边形分成两部分：

#### 1. 内裁剪： SP∩CP

#### 2. 外裁剪： SP - CP

# Weiler-Atherton 算法（ 3 / 7 ）

#### 裁剪结果区域的边界由两部分构成：

#### 1. SP 的部分边界

#### 2. CP 的部分边界

#### 且在交点处，边界发生交替

#### 即由 SP 边界转至 CP 边界，或由 CP 边界转至 SP 边界

```
裁剪多边形 CP
```
```
主多边形 SP
```

# Weiler-Atherton 算法（ 4 / 7 ）

#### 进点： SP 边界由此进入 CP

#### I 1 , I 3 , I 5 , I 7 ( 实心 )

#### 出点： SP 边界由此离开 CP

#### I 2 , I 4 , I 6 , I 8 ( 空心 )

#### 如果 SP 与 CP 有交点，则交点成对出现，它们被分为

#### 如下两类：

```
C 2
```
```
C 1
```
```
C 3
```
```
C 4
```
```
S 1
```
```
S 2
```
```
S 3 S 4
```
```
S 5
```
```
S 6
```
```
I 1
```
```
I 2 I 3
I 4
```
```
I 5
```
```
I 7 I 6
```
```
I 8
```
```
裁剪多边形 CP
```
```
主多边形 SP
```

# Weiler-Atherton 算法（ 5 / 7 ）

 若是进点：沿 **SP** 的边所示方向，
收集顶点序列；

 若是出点：沿 **CP** 的边所示方向，
收集顶点序列；

 如此交替沿两个多边形的边行
进，直至回到跟踪起点为止。

 由任意一个进点出发，沿 **SP** 的边，跟踪检测其与 **CP** 的交点，
并判断该交点是进点还是出点。如此交替沿两个多边形的边

#### 行进，直至回到跟踪的起始点为止。

```
C 2
```
```
C 1
```
```
C 3
```
```
C 4
```
```
S 1
```
```
S 2
```
```
S 3 S 4
```
```
S 5
```
```
S 6
```
```
I 1
```
I (^2) I 3
I 4
I 5
I 7 I 6
I 8
裁剪多边形 **CP**
主多边形 **SP**


# Weiler-Atherton 算法（ 6 / 7 ）

```
主多边形表 裁剪多边形表
S 1
```
```
S 2
```
```
I 1
```
```
S 3
S 4
```
```
S 5
S 6
```
```
I 2
I 3
I 4
I 5
I 6
I 7
I 8
```
```
C 1
```
```
C 2
I 3
```
```
I 4
C 4
```
```
I 8
I 1
I 2
```
```
C 3
I 5
I 6
S 1
```
```
I 7
C 1
```
```
开始
```
C (^2) 结束
C 1
C 3
C 4
S 1
S 2
S 3 S 4
S 5
S 6
I 1
I (^2) I 3
I 4
I 5
I 7 I 6
I 8
裁剪多边形 **CP**
主多边形 **SP**
算法裁剪后所生成的多边形为 **I 1 I 2 I 3 S 3 I 4 I 5 I 6 I 7 S 6 I 8 I 1**


# Weiler-Atherton 算法（ 7 / 7 ）

C 2

```
C 1
```
```
C 3
```
```
C 4
```
```
C 8 C 7
```
```
C 5 C 6
```
```
S 2
```
```
S 1
```
```
S 3
```
```
S 4
```
```
S 8 S 7
```
```
S 5 S 6
```
```
I 1 I 8
```
```
I 2
```
```
I 3 I 4
I 6 I 5
I 7
```
```
主多边形表 裁剪多边形表
S 1
S 2
```
```
I 1
```
```
I 4
S 4
```
```
S 6
I 5
```
```
I 2
I 3
S 3
S 1
S 5
S 7
SI^6
I 78
I 8
S 5
```
```
CC 1
C^23
C 4
```
II (^45)
I 1
I 8
CC 1
5
C 5
C 6
I 2
I 3
I 6
C 7
C 8
I 7
算法裁剪后所生成的多边形为 **I 1 I 2 I 7 I 8 I 1** 和 **I 3 I 4 I 5 I 6 I 3**
裁剪多边形 **CP**
主多边形 **SP** 开始
开始
结束
结束


# 练习题

S 1

```
S 2
```
```
S 3
```
```
C 1
```
```
C 2 C^3
```
```
C 4
```
```
C 8 C 7
```
```
C 5 C^6
```
```
I 1
```
```
I 2
```
```
I 3
```
```
I 4 I 5
```
```
I 6
I 7
I 8
I 12 I^11 I^10 I^9
```

# 练习题

S 1

```
S 2
```
```
S 3
```
```
C 1
```
C (^2) C 3
C 4
C (^8) C 7
C 5 C^6
I 1
I 2
I 3
I 4 I^5
I (^6) I 7
I 8
I 12 I^11 I^10 I^9
**SP CP
C 1
I 12
I 1
S 1 C 2
I 1 I 4
I 2 I 5
I 3 C 3
I 4 I 8
S 2 I 9
I 5 C 4
I 6 C 1
I 7 C 5
I 8 C 6
S 3 I 10
I 9 I 7
I 10 C 7
I 11 I 6
I 12 I 3
S 1 C 8
I 2
I 11
C 5**
开始
开始
开始
结束
结束
结束



###  三维空间中的 Cohen-Sutherland 算法

####  4 位编码扩展为 6 位编码


# Q & A


