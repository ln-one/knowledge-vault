# 第四章 自由曲线与曲面

> **期末考试分值：12分**（计算题6分 + 绘图题5分 + 简答题1分）

---

## 1. 概述

### 1.1 参数曲线的引入

**为什么使用参数表示？**

传统的显式表示 $y = f(x)$ 存在问题：
- 曲线形状随坐标系选取而变化
- 不具备几何不变性
- 无法表示封闭曲线和多值曲线

**参数表示的优势：**
- 只要控制点相对位置不变，曲线形状就不变
- 具备几何不变性
- 可以表示任意复杂的曲线形状

**参数曲线的一般形式：**

$$P(t) = [x(t), y(t), z(t)], \quad t \in [a, b]$$

通常将参数区间规范化为 $[0, 1]$。

### 1.2 曲线的连续性【高频考点】

**参数连续性（$C^n$连续）：**
- $C^0$连续：位置连续，曲线首尾相接
- $C^1$连续：一阶导数连续，切矢量连续
- $C^2$连续：二阶导数连续，曲率连续

**几何连续性（$G^n$连续）：**
- $G^0$连续：位置连续
- $G^1$连续：切矢量方向连续（模长可不同）
- $G^2$连续：曲率连续

**区别：** 几何连续性比参数连续性要求更宽松，只关注几何形状，不关注参数化方式。

---

## 2. Bezier曲线【重点算法】

### 2.1 基本概念

**历史背景：**
- 1962年，法国雷诺汽车公司P.E. Bezier工程师提出
- 以"逼近"为基础的参数曲线设计方法
- 1972年正式应用于汽车外形设计

**定义：** 给定 $n+1$ 个控制点 $P_0, P_1, ..., P_n$，n次Bezier曲线定义为：

$$P(t) = \sum_{i=0}^{n} P_i \cdot B_{i,n}(t), \quad t \in [0, 1]$$

其中 $B_{i,n}(t)$ 是Bernstein基函数。

### 2.2 Bernstein基函数【高频考点】

**定义：**

$$B_{i,n}(t) = C_n^i \cdot t^i \cdot (1-t)^{n-i}, \quad i = 0, 1, ..., n$$

其中组合数 $C_n^i = \frac{n!}{i!(n-i)!}$

**重要性质：**
1. **非负性：** $B_{i,n}(t) \geq 0$，对所有 $t \in [0, 1]$
2. **权性（归一性）：** $\sum_{i=0}^{n} B_{i,n}(t) = 1$
3. **端点性质：** $B_{i,n}(0) = \delta_{i,0}$，$B_{i,n}(1) = \delta_{i,n}$
4. **对称性：** $B_{i,n}(t) = B_{n-i,n}(1-t)$
5. **递推公式：** $B_{i,n}(t) = (1-t)B_{i,n-1}(t) + tB_{i-1,n-1}(t)$


### 2.3 二次Bezier曲线（n=2）【考试重点】

**控制点：** $P_0, P_1, P_2$（3个控制点）

**Bernstein基函数：**
- $B_{0,2}(t) = (1-t)^2$
- $B_{1,2}(t) = 2t(1-t)$
- $B_{2,2}(t) = t^2$

**曲线方程：**

$$P(t) = (1-t)^2 P_0 + 2t(1-t) P_1 + t^2 P_2$$

**展开形式：**

$$P(t) = (1 - 2t + t^2)P_0 + (2t - 2t^2)P_1 + t^2 P_2$$

**几何特性：**
- 曲线是抛物线
- 曲线起点在 $P_0$，终点在 $P_2$
- $t = 0.5$ 时，曲线点位于 $P_0P_2$ 中点与 $P_1$ 连线的中点
- 曲线在 $t = 0.5$ 处的切线平行于 $P_0P_2$

**端点性质：**
- $P(0) = P_0$
- $P(1) = P_2$
- $P'(0) = 2(P_1 - P_0)$（起点切矢量）
- $P'(1) = 2(P_2 - P_1)$（终点切矢量）

#### 【去年真题示例】二次Bezier曲线计算题（6分）

**题目：** 已知二次Bezier曲线的控制点为 $P_0(0, 0)$，$P_1(2, 4)$，$P_2(4, 0)$，求：
1. 曲线方程
2. $t = 0.5$ 时曲线上的点坐标
3. 起点和终点的切矢量

**解答步骤：**

**第一步：写出曲线方程**（2分）

$$P(t) = (1-t)^2 P_0 + 2t(1-t) P_1 + t^2 P_2$$

代入控制点坐标：
$$x(t) = (1-t)^2 \cdot 0 + 2t(1-t) \cdot 2 + t^2 \cdot 4 = 4t$$
$$y(t) = (1-t)^2 \cdot 0 + 2t(1-t) \cdot 4 + t^2 \cdot 0 = 8t(1-t) = 8t - 8t^2$$

曲线方程：$P(t) = (4t, 8t - 8t^2)$

**第二步：计算 $t = 0.5$ 时的点**（2分）

$$x(0.5) = 4 \times 0.5 = 2$$
$$y(0.5) = 8 \times 0.5 - 8 \times 0.25 = 4 - 2 = 2$$

答：$P(0.5) = (2, 2)$

**第三步：计算切矢量**（2分）

起点切矢量：$P'(0) = 2(P_1 - P_0) = 2[(2,4) - (0,0)] = (4, 8)$

终点切矢量：$P'(1) = 2(P_2 - P_1) = 2[(4,0) - (2,4)] = (4, -8)$

---

### 2.4 三次Bezier曲线（n=3）【考试重点】

**控制点：** $P_0, P_1, P_2, P_3$（4个控制点）

**Bernstein基函数：**
- $B_{0,3}(t) = (1-t)^3$
- $B_{1,3}(t) = 3t(1-t)^2$
- $B_{2,3}(t) = 3t^2(1-t)$
- $B_{3,3}(t) = t^3$

**曲线方程：**

$$P(t) = (1-t)^3 P_0 + 3t(1-t)^2 P_1 + 3t^2(1-t) P_2 + t^3 P_3$$

**矩阵形式：**

$$P(t) = \begin{bmatrix} 1 & t & t^2 & t^3 \end{bmatrix} \begin{bmatrix} 1 & 0 & 0 & 0 \\ -3 & 3 & 0 & 0 \\ 3 & -6 & 3 & 0 \\ -1 & 3 & -3 & 1 \end{bmatrix} \begin{bmatrix} P_0 \\ P_1 \\ P_2 \\ P_3 \end{bmatrix}$$

**端点性质：**
- $P(0) = P_0$，$P(1) = P_3$
- $P'(0) = 3(P_1 - P_0)$（起点切矢量方向为 $P_0P_1$）
- $P'(1) = 3(P_3 - P_2)$（终点切矢量方向为 $P_2P_3$）

**控制点影响：**
- $P_1$ 通过基函数在 $t = 1/3$ 时对曲线形状影响最大
- $P_2$ 通过基函数在 $t = 2/3$ 时对曲线形状影响最大


#### 【去年真题示例】三次Bezier曲线计算题（6分）

**题目：** 已知三次Bezier曲线的控制点为 $P_0(0, 0)$，$P_1(1, 2)$，$P_2(3, 2)$，$P_3(4, 0)$，求：
1. $t = 0.5$ 时曲线上的点坐标
2. 起点和终点的切矢量

**解答步骤：**

**第一步：计算 $t = 0.5$ 时的基函数值**（2分）

- $B_{0,3}(0.5) = (0.5)^3 = 0.125$
- $B_{1,3}(0.5) = 3 \times 0.5 \times (0.5)^2 = 0.375$
- $B_{2,3}(0.5) = 3 \times (0.5)^2 \times 0.5 = 0.375$
- $B_{3,3}(0.5) = (0.5)^3 = 0.125$

**第二步：计算曲线点坐标**（2分）

$$P(0.5) = 0.125 \times P_0 + 0.375 \times P_1 + 0.375 \times P_2 + 0.125 \times P_3$$

$$x(0.5) = 0.125 \times 0 + 0.375 \times 1 + 0.375 \times 3 + 0.125 \times 4 = 0 + 0.375 + 1.125 + 0.5 = 2$$

$$y(0.5) = 0.125 \times 0 + 0.375 \times 2 + 0.375 \times 2 + 0.125 \times 0 = 0 + 0.75 + 0.75 + 0 = 1.5$$

答：$P(0.5) = (2, 1.5)$

**第三步：计算切矢量**（2分）

起点切矢量：$P'(0) = 3(P_1 - P_0) = 3[(1,2) - (0,0)] = (3, 6)$

终点切矢量：$P'(1) = 3(P_3 - P_2) = 3[(4,0) - (3,2)] = (3, -6)$

---

### 2.5 Bezier曲线的性质【高频考点】

**1. 端点性质：**
- 曲线通过首末控制点：$P(0) = P_0$，$P(1) = P_n$
- 起点切矢量：$P'(0) = n(P_1 - P_0)$
- 终点切矢量：$P'(1) = n(P_n - P_{n-1})$

**2. 凸包性：**
- Bezier曲线完全位于其控制多边形的凸包内
- 这是由Bernstein基函数的非负性和权性保证的

**3. 对称性：**
- 控制点顺序颠倒，曲线形状不变，只是参数方向相反

**4. 几何不变性：**
- 曲线形状只与控制点的相对位置有关
- 对控制点进行平移、旋转、缩放，曲线也做相应变换

**5. 仿射不变性：**
- 对控制点进行仿射变换后再生成曲线 = 先生成曲线再进行仿射变换

**6. 变差缩减性：**
- 任意直线与Bezier曲线的交点个数不多于该直线与控制多边形的交点个数

**7. 拟局部性：**
- 移动一个控制点会影响整条曲线
- 但影响程度随距离增加而减小

---

### 2.6 de Casteljau算法【重点算法】

**算法思想：** 基于分割递推的Bezier曲线离散生成算法，避免直接计算高次多项式。

**几何作图过程：**
1. 给定参数 $t$，在控制多边形每条边上按 $t:(1-t)$ 的比例找分点
2. 连接相邻分点，形成新的多边形（比原来少一条边）
3. 重复上述操作，直到只剩一个点
4. 该点即为曲线上参数为 $t$ 的点

**递推公式：**

$$P_i^r = (1-t)P_i^{r-1} + tP_{i+1}^{r-1}$$

其中：
- $r = 1, 2, ..., n$（递推层数）
- $i = 0, 1, ..., n-r$（每层的点索引）
- $P_i^0 = P_i$（初始控制点）
- $P_0^n = P(t)$（最终曲线点）

**算法优点：**
- 数值稳定性好
- 计算简单，只需线性插值
- 便于硬件实现

#### 【de Casteljau算法示例】

**题目：** 用de Casteljau算法计算三次Bezier曲线在 $t = 0.5$ 时的点，控制点为 $P_0(0,0)$，$P_1(1,2)$，$P_2(3,2)$，$P_3(4,0)$。

**解答：**

| 层数 | 计算过程 | 结果 |
|------|----------|------|
| $r=0$ | 初始控制点 | $P_0^0=(0,0), P_1^0=(1,2), P_2^0=(3,2), P_3^0=(4,0)$ |
| $r=1$ | $P_i^1 = 0.5P_i^0 + 0.5P_{i+1}^0$ | $P_0^1=(0.5,1), P_1^1=(2,2), P_2^1=(3.5,1)$ |
| $r=2$ | $P_i^2 = 0.5P_i^1 + 0.5P_{i+1}^1$ | $P_0^2=(1.25,1.5), P_1^2=(2.75,1.5)$ |
| $r=3$ | $P_0^3 = 0.5P_0^2 + 0.5P_1^2$ | $P_0^3=(2,1.5)$ |

答：$P(0.5) = (2, 1.5)$


---

### 2.7 Bezier曲线的拼接【高频考点】

当需要表示复杂曲线时，通常用多段低阶Bezier曲线拼接而成。

**$G^0$连续条件（位置连续）：**

两段曲线在连接点处位置相同：
$$Q_m = P_0$$

**$G^1$连续条件（切线方向连续）：**

满足 $G^0$ 条件，且连接点处切矢量方向相同：
$$Q_m - Q_{m-1} = \alpha(P_1 - P_0), \quad \alpha > 0$$

即 $Q_{m-1}$、$Q_m(=P_0)$、$P_1$ 三点共线，且 $Q_{m-1}$ 和 $P_1$ 在连接点的异侧。

**$G^2$连续条件（曲率连续）：**

满足 $G^1$ 条件，且连接点处曲率相等：
$$Q_2 - P_1 = 2(Q_1 - P_2)$$

即 $Q_2P_1$ 与 $Q_1P_2$ 平行，且前者长度为后者的2倍。

---

## 3. B样条曲线【重点算法】

### 3.1 B样条曲线的引入

**Bezier曲线的局限性：**
1. 曲线阶次与控制点数目相关，控制点多时阶次高，计算复杂
2. 缺乏局部修改能力，移动一个控制点影响整条曲线
3. 不易拼接成复杂曲线

**B样条曲线的优势：**
1. 阶次低，与控制点数无关，计算简便
2. 局部修改能力强
3. 可表示任意形状，包括尖点、直线
4. 易于拼接
5. 与控制多边形的外形更接近

### 3.2 B样条曲线的定义

**定义：** 给定 $n+1$ 个控制点 $P_0, P_1, ..., P_n$ 和节点向量，k阶（k-1次）B样条曲线定义为：

$$P(t) = \sum_{i=0}^{n} P_i \cdot B_{i,k}(t)$$

其中 $B_{i,k}(t)$ 是k阶B样条基函数。

### 3.3 B样条基函数（de Boor-Cox递推公式）

**递推定义：**

$$B_{i,1}(t) = \begin{cases} 1, & t_i \leq t < t_{i+1} \\ 0, & \text{其他} \end{cases}$$

$$B_{i,k}(t) = \frac{t - t_i}{t_{i+k-1} - t_i} B_{i,k-1}(t) + \frac{t_{i+k} - t}{t_{i+k} - t_{i+1}} B_{i+1,k-1}(t)$$

**约定：** $0/0 = 0$

### 3.4 节点向量的分类

**均匀B样条：**
- 节点等距分布，如 $\{0, 1, 2, 3, 4, 5\}$ 或 $\{0, 0.2, 0.4, 0.6, 0.8, 1\}$
- 基函数具有周期性

**准均匀B样条：**
- 内节点等距分布，首末端点具有k重复度
- 如三次（k=4）：$\{0, 0, 0, 0, 1, 2, 3, 3, 3, 3\}$
- 曲线通过首末控制点

**非均匀B样条：**
- 节点不等距分布
- 提供更大的形状控制灵活性


---

### 3.5 二次B样条曲线（k=3）【考试重点】

**基函数（均匀节点）：**

$$B_{0,3}(t) = \frac{1}{2}(1-t)^2$$
$$B_{1,3}(t) = \frac{1}{2}(-2t^2 + 2t + 1)$$
$$B_{2,3}(t) = \frac{1}{2}t^2$$

**矩阵形式：**

$$P(t) = \frac{1}{2} \begin{bmatrix} 1 & t & t^2 \end{bmatrix} \begin{bmatrix} 1 & 1 & 0 \\ -2 & 2 & 0 \\ 1 & -2 & 1 \end{bmatrix} \begin{bmatrix} P_0 \\ P_1 \\ P_2 \end{bmatrix}$$

**端点性质：**
- $P(0) = \frac{1}{2}(P_0 + P_1)$（起点为 $P_0P_1$ 中点）
- $P(1) = \frac{1}{2}(P_1 + P_2)$（终点为 $P_1P_2$ 中点）
- $P'(0) = P_1 - P_0$
- $P'(1) = P_2 - P_1$

---

### 3.6 三次B样条曲线（k=4）【考试重点】

**基函数（均匀节点）：**

$$B_{0,4}(t) = \frac{1}{6}(1-t)^3$$
$$B_{1,4}(t) = \frac{1}{6}(3t^3 - 6t^2 + 4)$$
$$B_{2,4}(t) = \frac{1}{6}(-3t^3 + 3t^2 + 3t + 1)$$
$$B_{3,4}(t) = \frac{1}{6}t^3$$

**矩阵形式：**

$$P(t) = \frac{1}{6} \begin{bmatrix} 1 & t & t^2 & t^3 \end{bmatrix} \begin{bmatrix} 1 & 4 & 1 & 0 \\ -3 & 0 & 3 & 0 \\ 3 & -6 & 3 & 0 \\ -1 & 3 & -3 & 1 \end{bmatrix} \begin{bmatrix} P_0 \\ P_1 \\ P_2 \\ P_3 \end{bmatrix}$$

**端点性质：**
- $P(0) = \frac{1}{6}(P_0 + 4P_1 + P_2)$
- $P(1) = \frac{1}{6}(P_1 + 4P_2 + P_3)$
- $P'(0) = \frac{1}{2}(P_2 - P_0)$
- $P'(1) = \frac{1}{2}(P_3 - P_1)$

#### 【去年真题示例】三次B样条曲线计算题（6分）

**题目：** 已知三次均匀B样条曲线的控制点为 $P_0(0, 0)$，$P_1(1, 3)$，$P_2(3, 3)$，$P_3(4, 0)$，求曲线的起点和终点坐标。

**解答步骤：**

**第一步：计算起点 $P(0)$**（3分）

$$P(0) = \frac{1}{6}(P_0 + 4P_1 + P_2)$$

$$x(0) = \frac{1}{6}(0 + 4 \times 1 + 3) = \frac{7}{6} \approx 1.17$$

$$y(0) = \frac{1}{6}(0 + 4 \times 3 + 3) = \frac{15}{6} = 2.5$$

答：起点 $P(0) = (\frac{7}{6}, 2.5)$

**第二步：计算终点 $P(1)$**（3分）

$$P(1) = \frac{1}{6}(P_1 + 4P_2 + P_3)$$

$$x(1) = \frac{1}{6}(1 + 4 \times 3 + 4) = \frac{17}{6} \approx 2.83$$

$$y(1) = \frac{1}{6}(3 + 4 \times 3 + 0) = \frac{15}{6} = 2.5$$

答：终点 $P(1) = (\frac{17}{6}, 2.5)$

---

### 3.7 B样条曲线的性质【高频考点】

**1. 局部性：**
- 移动控制点 $P_i$ 只影响 $[t_i, t_{i+k})$ 区间内的曲线
- 这是B样条最重要的优势

**2. 凸包性：**
- 曲线位于控制多边形的凸包内

**3. 连续性：**
- k阶B样条曲线具有 $C^{k-2}$ 连续性
- 三次B样条（k=4）具有 $C^2$ 连续性

**4. 几何不变性：**
- 曲线形状只与控制点相对位置有关

**5. 变差缩减性：**
- 与Bezier曲线类似


---

### 3.8 B样条曲线的特殊外形设计

**1. 三顶点共线：**
- 曲线通过控制多边形边上的一个点
- 该点位于中间控制点对应的曲线段起点

**2. 四顶点共线：**
- 曲线包含一段直线段

**3. 两顶点重合（二重顶点）：**
- 曲线相切于控制多边形的边
- 可用于构造直线段

**4. 三顶点重合（三重顶点）：**
- 曲线通过该重合点
- 可用于构造尖点

**构造通过端点的B样条曲线方法：**
- 方法一：将首尾两条边各延长其 $1/5$，将新顶点置为二重顶点
- 方法二：将首尾两条边各延长其 $1$ 倍，利用三点共线

---

### 3.9 Bezier曲线与B样条曲线的比较【高频考点】

| 特性 | Bezier曲线 | B样条曲线 |
|------|------------|-----------|
| 阶次 | 与控制点数相关（n+1个点→n次） | 与控制点数无关，可自由选择 |
| 局部性 | 无（移动一点影响整条曲线） | 有（移动一点只影响局部） |
| 端点插值 | 通过首末控制点 | 一般不通过（准均匀除外） |
| 连续性 | $C^{n-1}$ | $C^{k-2}$（k阶） |
| 计算复杂度 | 控制点多时较高 | 相对较低 |
| 形状控制 | 直观 | 更灵活 |
| 拼接 | 需要额外约束 | 自然连续 |

---

## 4. NURBS曲线（非均匀有理B样条）

### 4.1 基本概念

**定义：** NURBS（Non-Uniform Rational B-Splines）是非均匀有理B样条曲线的缩写。

**曲线方程：**

$$P(t) = \frac{\sum_{i=0}^{n} w_i P_i B_{i,k}(t)}{\sum_{i=0}^{n} w_i B_{i,k}(t)} = \sum_{i=0}^{n} P_i R_{i,k}(t)$$

其中：
- $w_i$ 是权因子
- $R_{i,k}(t) = \frac{w_i B_{i,k}(t)}{\sum_{j=0}^{n} w_j B_{j,k}(t)}$ 是有理基函数

### 4.2 NURBS的优势

1. **统一表示：** 可以精确表示圆锥曲线（圆、椭圆、抛物线、双曲线）和自由曲线
2. **更多控制自由度：** 控制点、节点向量、权因子三种控制手段
3. **几何不变性：** 在平移、旋转、缩放、透视投影下保持不变
4. **国际标准：** 1991年ISO将NURBS作为工业产品几何定义的唯一数学方法

### 4.3 权因子的影响

对于二次NURBS曲线，中间控制点的权因子 $w_1$ 影响曲线形状：
- $w_1 > 1$：曲线向 $P_1$ 靠近（椭圆弧）
- $w_1 = 1$：退化为普通B样条（抛物线）
- $0 < w_1 < 1$：曲线远离 $P_1$（双曲线弧）
- $w_1 = 0$：曲线退化为直线段 $P_0P_2$

---

## 5. Bezier曲面【重点内容】

### 5.1 基本定义

**双参数Bezier曲面：** 给定 $(m+1) \times (n+1)$ 个控制点 $P_{i,j}$，Bezier曲面定义为：

$$P(u, v) = \sum_{i=0}^{m} \sum_{j=0}^{n} P_{i,j} B_{i,m}(u) B_{j,n}(v), \quad u, v \in [0, 1]$$

### 5.2 双三次Bezier曲面（m=n=3）

**控制网格：** $4 \times 4 = 16$ 个控制点

**曲面方程：**

$$P(u, v) = \sum_{i=0}^{3} \sum_{j=0}^{3} P_{i,j} B_{i,3}(u) B_{j,3}(v)$$

**边界曲线：**
- $u = 0$：$P(0, v) = \sum_{j=0}^{3} P_{0,j} B_{j,3}(v)$（Bezier曲线）
- $u = 1$：$P(1, v) = \sum_{j=0}^{3} P_{3,j} B_{j,3}(v)$
- $v = 0$：$P(u, 0) = \sum_{i=0}^{3} P_{i,0} B_{i,3}(u)$
- $v = 1$：$P(u, 1) = \sum_{i=0}^{3} P_{i,3} B_{i,3}(u)$

### 5.3 Bezier曲面的性质

1. **角点插值：** 曲面通过四个角点控制点
2. **边界性质：** 四条边界是Bezier曲线
3. **凸包性：** 曲面位于控制网格的凸包内
4. **几何不变性：** 与Bezier曲线类似


---

## 6. B样条曲面【重点内容】

### 6.1 基本定义

**B样条曲面：** 给定 $(m+1) \times (n+1)$ 个控制点和两个方向的节点向量，B样条曲面定义为：

$$P(u, v) = \sum_{i=0}^{m} \sum_{j=0}^{n} P_{i,j} B_{i,k}(u) B_{j,l}(v)$$

其中：
- $B_{i,k}(u)$ 是u方向k阶B样条基函数
- $B_{j,l}(v)$ 是v方向l阶B样条基函数

### 6.2 双三次B样条曲面（k=l=4）

**控制网格：** 至少 $4 \times 4 = 16$ 个控制点

**性质：**
- 具有 $C^2$ 连续性
- 局部修改能力强
- 便于曲面拼接

### 6.3 B样条曲面的连续性条件

**$G^0$连续（位置连续）：**
- 两个曲面片在公共边界处位置相同

**$G^1$连续（切平面连续）：**
- 公共边界处切平面连续
- 需要相邻控制点满足特定的共面条件

**$G^2$连续（曲率连续）：**
- 公共边界处曲率连续
- 需要更严格的控制点约束

---

## 7. 曲面的实际应用

### 7.1 地形生成算法

**基本方法：**
1. **高度图法：** 使用二维数组存储高度值，通过插值生成平滑地形
2. **分形法：** 使用分形算法（如菱形-方形算法）生成自然地形
3. **B样条曲面法：** 使用控制点网格定义地形曲面

**B样条地形生成步骤：**
1. 定义控制点网格，每个控制点的z坐标表示高度
2. 选择合适的节点向量
3. 计算曲面上的采样点
4. 生成三角形网格进行渲染

### 7.2 曲面细分

**目的：** 将粗糙的控制网格细分为更精细的网格，提高曲面质量。

**常用方法：**
- Catmull-Clark细分（四边形网格）
- Loop细分（三角形网格）
- Doo-Sabin细分

---

## 8. 考试重点总结

### 8.1 必考知识点

**简答题重点：**（5分）
- Bezier曲线与B样条曲线的区别
- 曲线连续性的概念（参数连续性与几何连续性）
- Bernstein基函数的性质

**计算题重点：**（6分）
- 二次/三次Bezier曲线的点计算
- de Casteljau算法的应用
- 三次B样条曲线的端点计算
- 曲线拼接的连续性条件

**绘图题重点：**（5分）
- 根据控制点绘制Bezier曲线草图
- 标注曲线的起点、终点、切线方向

### 8.2 高频考点

1. **Bernstein基函数公式：** $B_{i,n}(t) = C_n^i t^i (1-t)^{n-i}$
2. **Bezier曲线端点切矢量：** $P'(0) = n(P_1 - P_0)$，$P'(1) = n(P_n - P_{n-1})$
3. **de Casteljau递推公式：** $P_i^r = (1-t)P_i^{r-1} + tP_{i+1}^{r-1}$
4. **B样条曲线的局部性**
5. **曲线拼接的$G^1$连续条件**

### 8.3 解题技巧

**Bezier曲线计算题：**
1. 先写出基函数表达式
2. 代入参数值计算基函数值
3. 加权求和得到曲线点坐标
4. 切矢量直接用端点公式

**de Casteljau算法：**
1. 画出递推表格
2. 每层用线性插值计算
3. 最后一个点即为结果

**B样条曲线计算题：**
1. 确定是均匀还是准均匀节点
2. 使用对应的基函数矩阵
3. 注意系数（如1/6）

### 8.4 常见错误

1. **混淆阶次和次数：** k阶B样条是k-1次多项式
2. **忘记归一化系数：** 三次B样条的1/6系数
3. **切矢量方向搞反：** 起点切矢量指向$P_1$，终点切矢量从$P_{n-1}$指向$P_n$
4. **de Casteljau算法索引错误：** 注意每层点数减少

---

## 补充知识点

### 9. 三次Hermite曲线

**定义：** 给定两个端点 $P_0$、$P_1$ 及其切矢量 $T_0$、$T_1$，三次Hermite曲线定义为：

$$P(t) = H_0(t)P_0 + H_1(t)P_1 + H_2(t)T_0 + H_3(t)T_1$$

**Hermite基函数（调和函数）：**
- $H_0(t) = 2t^3 - 3t^2 + 1$
- $H_1(t) = -2t^3 + 3t^2$
- $H_2(t) = t^3 - 2t^2 + t$
- $H_3(t) = t^3 - t^2$

**与Bezier曲线的关系：**
- 三次Bezier曲线可以转换为Hermite形式
- $T_0 = 3(P_1 - P_0)$，$T_1 = 3(P_3 - P_2)$

### 10. 与其他章节的联系

**前置知识：**
- 第三章：基本图形生成算法（曲线离散化绘制）
- 线性代数：矩阵运算、向量运算

**后续应用：**
- 第五章：图形变换（曲线的几何变换）
- 第六章：裁剪算法（曲线裁剪）
- 渲染：曲面的光照和纹理映射

**综合应用：**
- CAD/CAM系统中的曲线曲面建模
- 字体设计（TrueType使用Bezier曲线）
- 动画路径设计（Flash运动路径）
- 汽车、飞机外形设计

